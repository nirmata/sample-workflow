# Insecure Dockerfile that violates best practices
FROM ubuntu:latest

# Run as root (violation)
USER root

# Install packages without version pinning (violation)
RUN apt-get update && apt-get install -y \
    curl \
    wget \
    vim \
    && rm -rf /var/lib/apt/lists/*

# Copy files without proper ownership (violation)
COPY . /app

# Set insecure permissions (violation)
RUN chmod 777 /app

# Expose all ports (violation)
EXPOSE 1-65535

# Run with privileged capabilities (violation)
RUN setcap cap_net_raw+ep /bin/bash

# Create insecure user with sudo access (violation)
RUN useradd -m -s /bin/bash -G sudo insecureuser

# Switch to insecure user but keep root access (violation)
USER insecureuser

# Set working directory
WORKDIR /app

# Run with shell (violation)
CMD ["/bin/bash"]
